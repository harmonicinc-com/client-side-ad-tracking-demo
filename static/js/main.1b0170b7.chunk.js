(this["webpackJsonpclient-side-ad-tracking-demo"]=this["webpackJsonpclient-side-ad-tracking-demo"]||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(44),c=n.n(i),o=n(201),s=(n(126),n(127),n(107)),u=n(200),d=n(222),l=n(203),f=n(213),v=n(210),h=n(212),j=n(204),p=n(214),m=n(4),b=n(31),O=n(13),x=n(215),g=n(207),y=n(216),k=n(217),T=n(219),P=n(98),w=n.n(P),E=n(97),S=n.n(E),R=n(101),U=n.n(R),I=n(102),C=n.n(I),L=n(100),D=n.n(L),M=n(99),N=n.n(M),A=n(84),F=n.n(A),B=n(85),q=n.n(B),G=r.a.createContext(void 0),V=n(2),W=Object(l.a)((function(){return{itemText:{fontSize:13,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},podItem:{},podItemOnAir:{backgroundColor:"#42a5f5","&:hover":{background:"#2196f3"}},adItem:{paddingLeft:Pe.spacing(4)},adItemOnAir:{paddingLeft:Pe.spacing(4),backgroundColor:"#90caf9","&:hover":{background:"#64b5f6"}},trackingUrlItem:{paddingLeft:Pe.spacing(8),paddingTop:Pe.spacing(0),paddingBottom:Pe.spacing(1)},greenIcon:{color:"green"},redIcon:{color:"red"}}}));var z=function(){var e=W(),t=Object(a.useContext)(G);if(void 0===t)throw new Error("AdTrackingContext is undefined");var n=Object(a.useState)({}),r=Object(O.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)({}),s=Object(O.a)(o,2),u=s[0],d=s[1],l=t.adPods||[],f=t.lastPlayheadTime,v=function(e){return e.id in i?i[e.id]:null!==f&&f<e.startTime+e.duration+2e3},h=function(e,t){return t.id+"/"+e.id in u?u[t.id+"/"+e.id]:null!==f&&f<e.startTime+e.duration+2e3};return Object(V.jsx)("div",{className:"ad-pod-list",children:l?Object(V.jsx)(x.a,{children:l.map((function(t){return Object(V.jsxs)("div",{children:[Object(V.jsxs)(g.a,{button:!0,onClick:function(){return function(e){var t=Object(b.a)(Object(b.a)({},i),{},Object(m.a)({},e.id,!v(e)));Object.keys(i).filter((function(e){return!l.find((function(t){return t.id===e}))})).forEach((function(e){return delete t[e]})),c(t)}(t)},className:t.startTime<f&&f<t.startTime+t.duration?e.podItemOnAir:e.podItem,children:[Object(V.jsx)(y.a,{children:Object(V.jsx)(S.a,{})}),Object(V.jsxs)(k.a,{disableTypography:!0,className:e.itemText,children:[Object(V.jsxs)("div",{children:["Ad Pod: ",t.id]}),Object(V.jsxs)("div",{children:["Time: ",new Date(t.startTime).toLocaleString(),", Duration: ",(t.duration/1e3).toFixed(1),"s"]})]}),v(t)?Object(V.jsx)(F.a,{}):Object(V.jsx)(q.a,{})]}),Object(V.jsx)(T.a,{in:v(t),timeout:"auto",unmountOnExit:!0,children:Object(V.jsx)(x.a,{children:t.ads.map((function(n){return Object(V.jsxs)("div",{children:[Object(V.jsxs)(g.a,{button:!0,onClick:function(){return function(e,t){var n=Object(b.a)(Object(b.a)({},u),{},Object(m.a)({},t.id+"/"+e.id,!h(e,t)));Object.keys(u).filter((function(e){return!l.find((function(t){return e.startsWith(t.id+"/")}))})).forEach((function(e){return delete n[e]})),d(n)}(n,t)},className:n.startTime<f&&f<n.startTime+n.duration?e.adItemOnAir:e.adItem,children:[Object(V.jsx)(y.a,{children:Object(V.jsx)(w.a,{})}),Object(V.jsxs)(k.a,{disableTypography:!0,className:e.itemText,children:[Object(V.jsxs)("div",{children:["Ad: ",n.id]}),Object(V.jsxs)("div",{children:["Time: ",new Date(n.startTime).toLocaleString(),", Duration: ",(n.duration/1e3).toFixed(1),"s"]})]}),h(n,t)?Object(V.jsx)(F.a,{}):Object(V.jsx)(q.a,{})]}),Object(V.jsx)(T.a,{in:h(n,t),timeout:"auto",unmountOnExit:!0,children:Object(V.jsx)(x.a,{children:n.trackingEvents?n.trackingEvents.map((function(t,n){return Object(V.jsxs)(g.a,{className:e.trackingUrlItem,children:[Object(V.jsxs)(y.a,{children:["IDLE"===t.reportingState?Object(V.jsx)(N.a,{}):null,"REPORTING"===t.reportingState?Object(V.jsx)(D.a,{}):null,"DONE"===t.reportingState?Object(V.jsx)(U.a,{className:e.greenIcon}):null,"ERROR"===t.reportingState?Object(V.jsx)(C.a,{className:e.redIcon}):null]}),Object(V.jsxs)(k.a,{disableTypography:!0,className:e.itemText,children:[Object(V.jsxs)("div",{children:["Event: ",t.event]}),Object(V.jsxs)("div",{children:["URL: ",t.signalingUrls]}),t.startTime?Object(V.jsxs)("div",{children:["Time: ",new Date(t.startTime).toLocaleString()]}):null]})]},n)})):null})},n.id+".trackingUrls")]},n.id)}))})},t.id+".ads")]},t.id)}))}):null})},J=r.a.createContext({errors:{},reportError:function(){},acknowledgeError:function(){}});function $(e){var t=Object(a.useState)({}),n=Object(O.a)(t,2),r=n[0],i=n[1];return Object(V.jsx)(J.Provider,{value:{errors:r,reportError:function(e,t){i(Object(b.a)(Object(b.a)({},r),{},Object(m.a)({},e,{message:t,acknowledged:!1})))},acknowledgeError:function(e){var t=r[e];t&&i(Object(b.a)(Object(b.a)({},r),{},Object(m.a)({},e,Object(b.a)(Object(b.a)({},t),{},{acknowledged:!0}))))}},children:e.children})}var _=n(14),H=n(45),K=n(27),Q=n.n(K),X=n(16);var Y=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])},Z=r.a.createContext(void 0),ee=n(103),te=n(51),ne=n(33),ae=500,re=function(e,t){for(var n=!1,a=function(a){var r=e[a].id;t.find((function(e){return e.id===r}))||(e.splice(a,1),n=!0)},r=e.length-1;r>=0;r--)a(r);return t.forEach((function(t){var a=e.find((function(e){return e.id===t.id}));a?a.duration!==t.duration&&(a.duration=t.duration,n=!0):(a={id:t.id,startTime:t.prftStartTime||t.startTime,duration:t.duration,trackingEvents:t.trackingEvents.map((function(e){return{event:e.event,startTime:e.prftStartTime||e.startTime,signalingUrls:e.signalingUrls,reportingState:"IDLE"}}))},e.push(a),n=!0)})),n},ie=function(){function e(){Object(te.a)(this,e),this.adPods=void 0,this.lastPlayheadTime=void 0,this.lastPlayheadUpdateTime=void 0,this.listeners=void 0,this.adPods=[],this.lastPlayheadTime=0,this.lastPlayheadUpdateTime=0,this.listeners=[]}return Object(ne.a)(e,[{key:"addUpdateListener",value:function(e){this.listeners.push(e)}},{key:"removeUpdateListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"updatePods",value:function(e){var t=function(e,t){for(var n=!1,a=function(a){var r=e[a].id;t.find((function(e){return e.id===r}))||(e.splice(a,1),n=!0)},r=e.length-1;r>=0;r--)a(r);return t.forEach((function(t){var a=e.find((function(e){return e.id===t.id}));a?a.duration!==t.duration&&(a.duration=t.duration,n=!0):(a={id:t.id,startTime:t.prftStartTime||t.startTime,duration:t.duration,ads:[]},e.push(a),n=!0),n=re(a.ads,t.ads)||n})),n}(this.adPods,e);t&&this.notifyListeners()}},{key:"needSendBeacon",value:function(e,t){var n=this,a=(new Date).getTime();if(this.lastPlayheadUpdateTime){if(a===this.lastPlayheadUpdateTime)return;var r=(e-this.lastPlayheadTime)/(a-this.lastPlayheadUpdateTime);r>0&&r<=2&&this.iterateTrackingEvents((function(a){var r=t?a.prftStartTime:a.startTime;r&&"IDLE"===a.reportingState&&n.lastPlayheadTime<r&&r<=e&&n.sendBeacon(a)}),this.lastPlayheadTime,e)}this.lastPlayheadTime=e,this.lastPlayheadUpdateTime=a}},{key:"updatePlayheadTime",value:function(e){this.needSendBeacon(e,!1)}},{key:"updatePrftPlayheadTime",value:function(e){this.needSendBeacon(e,!0)}},{key:"updateRawPlayheadTime",value:function(e){}},{key:"getAdPods",value:function(){return this.adPods}},{key:"pause",value:function(){var e=this;this.iterateTrackingEvents((function(t){"pause"===t.event&&e.sendBeacon(t)}))}},{key:"resume",value:function(){var e=this;this.iterateTrackingEvents((function(t){"resume"===t.event&&e.sendBeacon(t)}))}},{key:"mute",value:function(){var e=this;this.iterateTrackingEvents((function(t){"mute"===t.event&&e.sendBeacon(t)}))}},{key:"unmute",value:function(){var e=this;this.iterateTrackingEvents((function(t){"unmute"===t.event&&e.sendBeacon(t)}))}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){e()}))}},{key:"iterateTrackingEvents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPlayheadTime,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.lastPlayheadTime,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.adPods.forEach((function(r){var i=(a?r.prftStartTime:r.startTime)||0;i<=n&&t<=i+r.duration+ae&&r.ads.forEach((function(i){var c=(a?i.prftStartTime:i.startTime)||0;c<=n&&t<=c+i.duration+ae&&i.trackingEvents.forEach((function(t){e(t,i,r)}))}))}))}},{key:"sendBeacon",value:function(){var e=Object(H.a)(Q.a.mark((function e(t){var n,a,r,i,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.reportingState="REPORTING",this.notifyListeners(),e.prev=2,n=0,a=Object(ee.a)(t.signalingUrls),e.prev=5,a.s();case 7:if((r=a.n()).done){e.next=15;break}return i=r.value,e.next=11,fetch(i);case 11:(c=e.sent).status>=200&&c.status<=299?n++:console.error("Failed to send beacon to ".concat(i,"; Status ").concat(c.status));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:t.reportingState=n===t.signalingUrls.length?"DONE":"ERROR",e.next=29;break;case 26:e.prev=26,e.t1=e.catch(2),t.reportingState="ERROR";case 29:this.notifyListeners();case 30:case"end":return e.stop()}}),e,this,[[2,26],[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ce=function(e){var t=5e3,n=Object(X.e)(),r=Object(X.f)(),i=new URLSearchParams(r.search).get("url"),c=Object(a.useContext)(J),o=Object(a.useRef)(),s=Object(a.useState)(null),u=Object(O.a)(s,2),d=u[0],l=u[1],f=Object(a.useState)({localSessionId:"",mediaUrl:i,manifestUrl:null,adTrackingMetadataUrl:""}),v=Object(O.a)(f,2),h=v[0],j=v[1],p=Object(a.useState)(0),m=Object(O.a)(p,2),b=m[0],x=m[1],g=Object(a.useState)(0),y=Object(O.a)(g,2),k=y[0],T=y[1],P=Object(a.useState)(0),w=Object(O.a)(P,2),E=w[0],S=w[1],R=Object(a.useState)([]),U=Object(O.a)(R,2),I=U[0],C=U[1],L=Object(a.useState)({start:0,end:0}),D=Object(O.a)(L,2),M=D[0],N=D[1],A=function(e){return e.replace(/\/[^/?]+(\??[^/]*)$/,"/metadata$1")},F=Object(a.useCallback)(function(){var e=Object(H.a)(Q.a.mark((function e(n){var a,r,i,s,u,d=arguments;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:0,r=d.length>2&&void 0!==d[2]&&d[2],i=function(e,n,a){if(0===e)return!0;var r=a||M;return n&&r.prftStart&&r.prftEnd?e>=r.prftStart&&e<=r.prftEnd-t:e>=r.start&&e<=r.end-t},console.log("refreshMetadata: ".concat(n)),!n){e.next=27;break}return e.prev=5,e.next=8,fetch(n);case 8:if(!((s=e.sent).status<200||s.status>299)){e.next=11;break}throw new Error("Get unexpected response code ".concat(s.status));case 11:return e.next=13,s.json();case 13:if(u=e.sent,N(u.dataRange),i(a,r,u.dataRange)){e.next=18;break}return console.log("Invalid metadata: Not in range. Time: ".concat(a,", PRFT: ").concat(r),u.dataRange),e.abrupt("return",!1);case 18:if(void 0===o.current){e.next=21;break}return o.current.updatePods(u.adBreaks||[]),e.abrupt("return",!0);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),console.error("Failed to download metadata for ad tracking",e.t0),c.reportError("metadata.request.failed","Failed to download metadata for ad tracking: "+e.t0);case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(t){return e.apply(this,arguments)}}(),[c,M]),B=Object(a.useCallback)(function(){var e=Object(H.a)(Q.a.mark((function e(t){var n,a,r,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{redirect:"follow",cache:"reload"});case 3:if(!((r=e.sent).status<200||r.status>299)){e.next=6;break}throw new Error("Get unexpected response code ".concat(r.status));case 6:r.redirected?(n=r.url,a=A(r.url)):(n=t,a=A(t)),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),c.reportError("manifest.request.failed","Failed to download manifest: "+e.t0),e.abrupt("return");case 13:if(!n.includes("index.m3u8")){e.next=16;break}return e.next=16,fetch(n.replace("index.m3u8","01.m3u8"));case 16:return C([]),o.current=new ie,i=o.current.getAdPods(),o.current.addUpdateListener((function(){C(Object(_.a)(i))})),j({localSessionId:(new Date).toISOString(),mediaUrl:t,manifestUrl:n,adTrackingMetadataUrl:a}),e.next=23,F(a);case 23:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[F,c]);Object(a.useEffect)((function(){h.mediaUrl&&!h.localSessionId&&B(h.mediaUrl)}),[B,h]),Y(Object(H.a)(Q.a.mark((function e(){var n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){return n&&M.prftStart&&M.prftEnd?e>=M.prftStart&&e<=M.prftEnd-t:e>=M.start&&e<=M.end-t},console.log("PRFT: ".concat(E,"; In range: ").concat(n(E,!0))),console.log("Raw: ".concat(k,"; In range: ").concat(n(k,!1))),a=h.adTrackingMetadataUrl){e.next=6;break}return e.abrupt("return");case 6:if(!(E>0)){e.next=17;break}if(e.t0=!n(E,!0),!e.t0){e.next=12;break}return e.next=11,F(a,E,!0);case 11:e.t0=!e.sent;case 12:if(!e.t0){e.next=15;break}a="".concat(a,"&prftStart=").concat(E),F(a);case 15:e.next=25;break;case 17:if(e.t1=k&&!n(k,!1),!e.t1){e.next=22;break}return e.next=21,F(a,k,!1);case 21:e.t1=!e.sent;case 22:if(!e.t1){e.next=25;break}a="".concat(a,"&start=").concat(k),F(a);case 25:case"end":return e.stop()}}),e)}))),4e3);var q={sessionInfo:h,presentationStartTime:d,load:function(e){return n.replace("?url="+encodeURIComponent(e)),B(e)},unload:function(){C([]),o.current=new ie;var e=o.current.getAdPods();o.current.addUpdateListener((function(){C(Object(_.a)(e))})),l(null),j({localSessionId:"",mediaUrl:null,manifestUrl:null,adTrackingMetadataUrl:""})}},W={adPods:I,lastPlayheadTime:b,updatePlayheadTime:function(e){var t;null===(t=o.current)||void 0===t||t.updatePlayheadTime(e),x(e)},updatePrftPlayheadTime:function(e){S(e)},updateRawPlayheadTime:function(e){T(e)},pause:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.pause()},resume:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.resume()},mute:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.mute()},unmute:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.unmute()}};return Object(V.jsx)(Z.Provider,{value:q,children:Object(V.jsx)(G.Provider,{value:W,children:e.children})})},oe=n(105),se=n(108),ue=(n(137),n(106)),de=n.n(ue),le=n(70),fe=n.n(le),ve=function(e){Object(oe.a)(n,e);var t=Object(se.a)(n);function n(e){var r;return Object(te.a)(this,n),(r=t.call(this,e)).player=void 0,r.videoRef=void 0,r.containerRef=void 0,r.lastMuted=void 0,r.paused=void 0,r.videoRef=Object(a.createRef)(),r.containerRef=Object(a.createRef)(),r.player=null,r.lastMuted=!1,r.paused=!1,r}return Object(ne.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.muxjs=de.a;var t=this.videoRef.current,n=this.containerRef.current;if(t&&n&&(this.player=new fe.a.Player(t),this.player.configure("manifest.defaultPresentationDelay",12),this.player.configure("manifest.dash.ignoreSuggestedPresentationDelay",!0),this.lastMuted=t.muted,this.player)){var a=new fe.a.ui.Overlay(this.player,n,t);a.configure({controlPanelElements:["play_pause","mute","volume","fullscreen","overflow_menu"]}),t.addEventListener("error",(function(t){var n,a;return null===(n=(a=e.props).onError)||void 0===n?void 0:n.call(a,t)})),t.addEventListener("playing",(function(){var t,n,r;null!==(t=a.getControls())&&void 0!==t&&t.isSeeking()||e.paused&&(null===(n=(r=e.props).onResume)||void 0===n||n.call(r),e.paused=!1)})),t.addEventListener("pause",(function(){var t,n,r;null!==(t=a.getControls())&&void 0!==t&&t.isSeeking()||(null===(n=(r=e.props).onPaused)||void 0===n||n.call(r),e.paused=!0)})),t.addEventListener("volumechange",(function(){var n,a;if(t.muted&&!e.lastMuted)null===(n=(a=e.props).onMute)||void 0===n||n.call(a);else if(!t.muted&&e.lastMuted){var r,i;null===(r=(i=e.props).onUnmute)||void 0===r||r.call(i)}e.lastMuted=t.muted}))}}},{key:"load",value:function(e){var t;null===(t=this.player)||void 0===t||t.load(e),this.paused=!1}},{key:"unload",value:function(){var e;null===(e=this.player)||void 0===e||e.unload(),this.paused=!1}},{key:"getPlayheadTimeAsDate",value:function(){var e;return(null===(e=this.player)||void 0===e?void 0:e.getPlayheadTimeAsDate())||null}},{key:"getRawVideoTime",value:function(){var e;return(null===(e=this.videoRef.current)||void 0===e?void 0:e.currentTime)||null}},{key:"getPresentationLatencyInfo",value:function(){var e;return(null===(e=this.player)||void 0===e?void 0:e.getPresentationLatencyInfo())||null}},{key:"render",value:function(){return Object(V.jsx)("div",{ref:this.containerRef,style:{maxWidth:this.props.width},children:Object(V.jsx)("video",{"data-shaka-player":!0,ref:this.videoRef,style:{width:"100%",height:"100%",backgroundColor:"black"},autoPlay:!0})})}}]),n}(a.Component);var he=function(){var e=Object(a.useContext)(Z);if(void 0===e)throw new Error("SessionContext is undefined");var t=e.sessionInfo,n=Object(a.useContext)(G);if(void 0===n)throw new Error("SessionContext is undefined");var r=Object(a.useRef)(null),i=Object(a.useRef)(),c=Object(a.useState)(0),o=Object(O.a)(c,2),s=o[0],u=o[1],d=Object(a.useState)(0),l=Object(O.a)(d,2),f=l[0],v=l[1],h=Math.min.apply(Math,[1/0].concat(Object(_.a)(n.adPods.filter((function(e){return e.startTime>f})).map((function(e){return e.startTime})))))-f;return Y((function(){var e,a=null===(e=r.current)||void 0===e?void 0:e.getRawVideoTime();a&&function(e){var a,i;if(u(e),null!==(a=t.manifestUrl)&&void 0!==a&&a.includes(".m3u8")){var c,o,s=(null===(c=r.current)||void 0===c||null===(o=c.getPlayheadTimeAsDate())||void 0===o?void 0:o.getTime())||0;n.updateRawPlayheadTime(s),n.updatePlayheadTime(s),v(s)}else if(null!==(i=t.manifestUrl)&&void 0!==i&&i.includes(".mpd")){var d,l,f,h,j=(null===(d=r.current)||void 0===d||null===(l=d.getPresentationLatencyInfo())||void 0===l?void 0:l.wallClock.getTime())||0,p=(null===(f=r.current)||void 0===f||null===(h=f.getPlayheadTimeAsDate())||void 0===h?void 0:h.getTime())||0;n.updateRawPlayheadTime(1e3*e),n.updatePlayheadTime(p),n.updatePrftPlayheadTime(j),v(p)}}(a)}),500),Object(a.useEffect)((function(){r.current&&i.current!==t.localSessionId&&(t.manifestUrl?r.current.load(t.manifestUrl):r.current.unload(),i.current=t.localSessionId)}),[r,t]),Object(V.jsxs)("div",{children:[Object(V.jsx)(ve,{ref:r,onPaused:function(){console.log("playback paused"),n.pause()},onResume:function(){console.log("playback resumed from pause"),n.resume()},onMute:function(){console.log("player muted"),n.mute()},onUnmute:function(){console.log("player unmute"),n.unmute()},onError:function(e){console.error("Error from player",e)}}),Object(V.jsxs)("div",{children:["Raw currentTime from video element: ",s?s.toFixed(0):0,"s"]}),Object(V.jsxs)("div",{children:["Playhead date time: ",f?new Date(f).toLocaleString():"-"]}),Object(V.jsxs)("div",{children:["Time to next ad break: ",h!==1/0?Math.ceil(h/1e3).toFixed(0)+"s":"-"]})]})},je=n(208),pe=n(218),me=n(202),be=n(220),Oe=n(211),xe=n(221),ge=n(205),ye=Object(l.a)((function(){return{buttons:{"& > *":{marginRight:Pe.spacing(1)}}}}));var ke=function(){var e=ye(),t=Object(a.useContext)(J),n=Object(a.useContext)(Z);if(void 0===n)throw new Error("SessionContext is undefined");var r=n.sessionInfo,i=Object(a.useRef)(),c=function(e){return e.preventDefault()},o=function(){var e=Object(H.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.load(i.current.value);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object.entries(t.errors).map((function(e,n){var a=Object(O.a)(e,2),r=a[0],i=a[1];return Object(V.jsx)(je.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!i.acknowledged,children:Object(V.jsx)(ge.a,{elevation:6,variant:"filled",severity:"error",onClose:function(){return e=r,void t.acknowledgeError(e);var e},children:i.message})},n)})),Object(V.jsx)(pe.a,{variant:"h5",gutterBottom:!0,children:"Harmonic Client Side Ad Tracking Demo"}),Object(V.jsx)(me.a,{inputRef:i,label:"Media URL",fullWidth:!0,defaultValue:r.mediaUrl||"",variant:"standard"}),Object(V.jsxs)(be.a,{className:e.buttons,width:1,paddingTop:2,display:"flex",flexDirection:"row",children:[Object(V.jsx)(Oe.a,{variant:"contained",color:"primary",onClick:o,children:"Load"}),Object(V.jsx)(Oe.a,{variant:"contained",color:"secondary",onClick:function(){n.unload()},children:"Unload"})]}),Object(V.jsx)(be.a,{width:1,paddingTop:2,display:"flex",flexDirection:"row",children:Object(V.jsx)(xe.a,{href:"#",color:"inherit",onClick:c,underline:"hover",children:r.manifestUrl?r.manifestUrl:""})}),Object(V.jsx)(be.a,{width:1,paddingTop:1,display:"flex",flexDirection:"row",children:Object(V.jsx)(xe.a,{href:"#",color:"inherit",onClick:c,underline:"hover",children:r.adTrackingMetadataUrl?r.adTrackingMetadataUrl:""})})]})},Te=n(80),Pe=Object(s.a)({palette:{primary:{main:"#3f51b5"},secondary:{main:"#e0e0e0"}}}),we=Object(l.a)((function(){return{paper:{padding:Pe.spacing(2),textAlign:"center",color:Pe.palette.text.secondary}}}));var Ee=function(){var e=we();return Object(V.jsx)(u.a,{injectFirst:!0,children:Object(V.jsx)(d.a,{theme:Pe,children:Object(V.jsx)(Te.a,{basename:"/client-side-ad-tracking-demo",children:Object(V.jsx)(X.a,{exact:!0,path:"/",children:Object(V.jsx)($,{children:Object(V.jsx)(ce,{children:Object(V.jsx)(f.a,{children:Object(V.jsxs)(v.a,{container:!0,spacing:3,children:[Object(V.jsx)(v.a,{item:!0,xs:12,children:Object(V.jsx)(h.a,{square:!0,className:e.paper,children:Object(V.jsx)(ke,{})})}),Object(V.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(h.a,{square:!0,className:e.paper,children:Object(V.jsx)(he,{})})}),Object(V.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(V.jsxs)(h.a,{square:!0,className:e.paper,children:[Object(V.jsx)(j.a,{value:0,indicatorColor:"primary",textColor:"primary",children:Object(V.jsx)(p.a,{label:"Tracking Events"})}),Object(V.jsx)(z,{})]})})]})})})})})})})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};console.log=function(){},console.debug=function(){},c.a.render(Object(V.jsxs)(r.a.StrictMode,{children:[Object(V.jsx)(o.a,{}),Object(V.jsx)(Ee,{})]}),document.getElementById("root")),Se()}},[[140,1,2]]]);
//# sourceMappingURL=main.1b0170b7.chunk.js.map